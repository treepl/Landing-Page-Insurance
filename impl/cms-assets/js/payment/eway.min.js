'use strict';(function(){function m(){var a=document.forms;let c=document.scripts,d="",g=[];var b=window.paymentGatewaySettings;if(b){var e={1:[[["name","card","expiry","cvn"]]],2:[[["name","card","expiry"],["cvn"]],[["name","card"],["expiry","cvn"]],[["name"],["card","expiry","cvn"]]],3:[[["name","card"],["expiry"],["cvn"]],[["name"],["card","expiry"],["cvn"]],[["name"],["card"],["expiry","cvn"]]],4:[[["name"]],[["card"]],[["expiry"]],[["cvn"]]]}[b.rows][+b.cells-1];b=n(b,e)}else b=[{cells:[{field:{fieldType:"name",
styles:"line-height: 1; height: 47px; border: 1px solid #cbcbcb; color: #000; padding: 15px 22px 12px; border-radius:0;margin-bottom:21px;box-shadow:none",autocomplete:"true",fieldColSpan:12,divStyles:"padding:0 7px;"}},{field:{fieldType:"card",styles:"line-height: 1; height: 47px; border: 1px solid #cbcbcb; color: #000; padding: 15px 22px 12px; border-radius:0;margin-bottom:21px;box-shadow:none",autocomplete:"true",fieldColSpan:12,divStyles:"padding:0 7px"}}]},{cells:[{field:{fieldType:"expiry",
styles:"line-height: 1; height: 47px; border: 1px solid #cbcbcb; color: #000; padding: 15px 22px 12px; border-radius:0;margin-bottom:21px;box-shadow:none",autocomplete:"true",fieldColSpan:12,divStyles:"padding:0 7px"}},{field:{fieldType:"cvn",styles:"line-height: 1; height: 47px; border: 1px solid #cbcbcb; color: #000; padding: 15px 22px 12px; border-radius:0;margin-bottom:21px;box-shadow:none",autocomplete:"true",fieldColSpan:12,divStyles:"padding:0 7px"}}]}];let p={fonts:["Lobster"],rows:b};for(b=
0;b<a.length;b++)if(a[b].elements.Payment_Data){e=a[b];var f=e.getAttribute("name");let h=`${f}_${b}`,c=document.getElementById(`paymentFields_${f}`);f=document.getElementById(`paymentErrors_${f}`);c.id=`paymentFields_${h}`;f.id=`paymentErrors_${h}`;e.setAttribute("name",h);g.push(a[b])}for(a=0;a<c.length;a++)if(-1!==c[a].src.indexOf("/cms-assets/js/payment/eway.min.js")){d=q(c[a].src,"key");break}g&&g.forEach((a)=>{function b(k){k.fieldValid?(l="",a.elements.Payment_Data.value=k.secureFieldCode):
(l=k.errors,a.elements.Payment_Data.value="")}function c(){a.submit()}function g(a,b){"CreditCard"===b?(a.style.display="block",a.dataset.paymentEnabled=!0):(a.style.display="none",a.dataset.paymentEnabled=!1)}var f=a.getAttribute("name"),e=`paymentFields_${f}`;let h=document.getElementById(`paymentFields_${f}`);f={publicApiKey:d,fieldDivId:e,fieldType:"group",layout:p};e=a["g-recaptcha-response-v3"]?"customFormSubmit":"submit";let l="";a.elements.Payment_Data.value="";a.dataset.form_submitted=!1;
(function(a,c){let k=!1;for(let a=0;a<c.length;a++)if("CreditCard"===c[a].getAttribute("value")){k=!0;break}k&&(d?window.eWAY.setupSecureField(a,b):alert("Missing eWay key"))})(f,a.elements.Payment_Type.options);g(h,a.elements.Payment_Type.value);a.elements.Payment_Type.onchange=function(a){a.preventDefault();g(h,a.target.value)};a.addEventListener(e,function(b){b.preventDefault();b=b.target;"true"!==b.dataset.form_submitted?(b.dataset.form_submitted=!0,"CreditCard"===b.elements.Payment_Type.value?
l.length?(alert(r(l)),b.dataset.form_submitted=!1):b.elements.Payment_Data.value.length?window.eWAY.saveAllFields(c,2E3):(alert("CARDHOLDERNAME Required\nCARDNUMBER Required\nCARDCVN Required\nInvalid Expiry Date"),b.dataset.form_submitted=!1):a.submit()):alert("Form submission is in progress.")})})}function r(a){let c="",d={V6021:"CARDHOLDERNAME Required",V6022:"CARDNUMBER Required",V6023:"CARDCVN Required",V6033:"Invalid Expiry Date"};a.split(" ").forEach(function(a){c=d[a]?c+`${d[a]}\n`:c+`${a}\n`});
return c}function q(a,c){a=new URL(a);return(new URLSearchParams(a.search)).get(c)}function n(a,c){let d=+a.rows,g=[];for(let b=0;b<d;b++){let e=c[b],d=[];for(let b=0;b<e.length;b++)d.push({field:{fieldType:e[b],styles:a.fieldStyles,autocomplete:a.autocomplete,fieldColSpan:a.fieldColSpan,divStyles:a.fieldDivStyles},styles:a.cellStyles,colSpan:a.cellColSpan});g.push({cells:d,styles:a.rowStyles})}return g}document.addEventListener("DOMContentLoaded",function(a){m()})})();
