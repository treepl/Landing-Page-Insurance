!function(f){f.fn.viewportChecker=function(o){var r={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(o,t){},scrollHorizontal:!1,scrollBox:window};f.extend(r,o);var t=this,c={height:f(r.scrollBox).height(),width:f(r.scrollBox).width()};return this.checkElements=function(){var n,d;d=r.scrollHorizontal?(n=Math.max(f("html").scrollLeft(),f("body").scrollLeft(),f(window).scrollLeft()))+c.width:(n=Math.max(f("html").scrollTop(),f("body").scrollTop(),f(window).scrollTop()))+c.height,t.each(function(){var o=f(this),t={},e={};if(o.data("vp-add-class")&&(e.classToAdd=o.data("vp-add-class")),o.data("vp-remove-class")&&(e.classToRemove=o.data("vp-remove-class")),o.data("vp-add-class-full-view")&&(e.classToAddForFullView=o.data("vp-add-class-full-view")),o.data("vp-keep-add-class")&&(e.removeClassAfterAnimation=o.data("vp-remove-after-animation")),o.data("vp-offset")&&(e.offset=o.data("vp-offset")),o.data("vp-repeat")&&(e.repeat=o.data("vp-repeat")),o.data("vp-scrollHorizontal")&&(e.scrollHorizontal=o.data("vp-scrollHorizontal")),o.data("vp-invertBottomOffset")&&(e.scrollHorizontal=o.data("vp-invertBottomOffset")),f.extend(t,r),f.extend(t,e),!o.data("vp-animated")||t.repeat){0<String(t.offset).indexOf("%")&&(t.offset=parseInt(t.offset)/100*c.height);var a=t.scrollHorizontal?o.offset().left:o.offset().top,s=t.scrollHorizontal?a+o.width():a+o.height(),l=Math.round(a)+t.offset,i=t.scrollHorizontal?l+o.width():l+o.height();t.invertBottomOffset&&(i-=2*t.offset),l<d&&n<i?(o.removeClass(t.classToRemove),o.addClass(t.classToAdd),t.callbackFunction(o,"add"),s<=d&&n<=a?o.addClass(t.classToAddForFullView):o.removeClass(t.classToAddForFullView),o.data("vp-animated",!0),t.removeClassAfterAnimation&&o.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){o.removeClass(t.classToAdd)})):o.hasClass(t.classToAdd)&&t.repeat&&(o.removeClass(t.classToAdd+" "+t.classToAddForFullView),t.callbackFunction(o,"remove"),o.data("vp-animated",!1))}})},("ontouchstart"in window||"onmsgesturechange"in window)&&f(document).bind("touchmove MSPointerMove pointermove",this.checkElements),f(r.scrollBox).bind("load scroll",this.checkElements),f(window).resize(function(o){c={height:f(r.scrollBox).height(),width:f(r.scrollBox).width()},t.checkElements()}),this.checkElements(),this}}(jQuery);